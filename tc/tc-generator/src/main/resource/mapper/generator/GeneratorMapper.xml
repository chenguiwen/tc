<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tc.generator.mapper.GeneratorMapper">
	
	<resultMap type="TableInfo" id="TableInfoResult">
		<id 	property="tableName" 	column="table_name" 	/>
		<result property="tableComment" column="table_comment"	/>
		<result property="creationTime"	column="creation_time"	/>
		<result	property="modifiedTime"	column="modified_time"	/>
	</resultMap>
	
	<resultMap type="ColumnInfo" id="ColumnInfoResult">
		<id		property="columnName" 		column="column_name"	/>
		<result	property="dataType" 		column="data_type"		/>
		<result	property="columnComment"	column="column_comment"/>
	</resultMap>
	
	
	<!-- -->
	<sql id="selectGeneratorVO">
		select tableName,tableComment,creationTime,modifiedTime from information_schema.tables
	</sql>
	
	<select id="selectTableList" parameterType="TableInfo" resultMap="TableInfoResult">
		<include refid="selectGeneratorVO" />
		where table_comment <![CDATA[ <> ]]> '' and table_schema = (select database() ) <!-- <![CDATA[ <> ]]> xml文件中的转译工具，意为table_comment <> ''  -->
		<if test="tableName != null and tableName != ''" >
			and table_name like concat('%', #{tableName}, '%')
		</if>
	</select>
	
</mapper>